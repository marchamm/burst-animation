var config={clones:2,randomize:!0,spread:.8,rotate:480,angle:0,opacity:.8,rate:.8,scale:.6,scaleSpread:.6,velocity:.8,}
var triggers=document.getElementsByClassName('burst');for(var i=0;i<triggers.length;i++){var element=triggers[i];element.onclick=function(){clone(this)}}
function clone(item){var position=item.getBoundingClientRect();var element=item
var i
var velocity
var rate
var opacity=config.opacity
var clones=config.randomize?(config.clones*(Math.random()+.5)):config.clones
rate=100/config.rate
velocity=4/config.velocity*1000
var clone={top:position.top,left:position.left,width:element.offsetWidth,height:element.offsetHeight}
var viewport=window.innerHeight
var body=document.getElementsByTagName("BODY")[0]
for(i=0;i<clones;i++){setTimeout(function(){var el=item.cloneNode(!0);el.className+=" clone";body.appendChild(el);el.style.top=clone.top+'px'
el.style.left=clone.left+'px'
el.style.width=clone.width+'px'
el.style.opacity=opacity
el.style.transitionDuration=velocity+'ms'
el.style.position='fixed'
el.style.transitionTimingFunction='cubic-bezier(.1,1,.1,1)'
el.style.transitionProperty='transform, opacity'
el.style.willChange='transform, opacity'
el.style.pointerEvents='none'
animate(el,viewport,clone)},rate*i)}}
function animate(el,viewport,clone){var spread
var scale
var angle
var transformOrigin
var rotate=config.rotate
var removeDelay=4/config.velocity*1000
spread=Math.floor(Math.random()*(viewport/2*config.spread))
scale=config.scale+Math.random()*config.scaleSpread
spread=Math.random()<0.5?spread:spread*-1
rotate=Math.random()<0.5?rotate:rotate*-1
transformOrigin=Math.random()<0.5?'top left':'top right'
angle=(clone.top+clone.height*2)*-1
el.offsetHeight
el.style.opacity=1
el.style.transform="translate3d("+spread+"px,"+angle+"px,0) rotate("+rotate+"deg) scale("+scale+")"
el.transformOrigin=transformOrigin
setTimeout(function(){el.outerHTML=""},removeDelay)}
